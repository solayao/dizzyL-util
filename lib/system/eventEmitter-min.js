"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var EventEmitter=function(){function e(){_classCallCheck(this,e),this.subs={}}return _createClass(e,[{key:"on",value:function(e,t){(this.subs[e]||(this.subs[e]=[])).push(t)}},{key:"once",value:function(e,t){var n=this;this.on(e,function(){t.apply(void 0,arguments),n.off(e,t)})}},{key:"off",value:function(e,t){if(this.subs[e]){var n=this.subs[e].findIndex(function(e){return e===t});-1!==n&&this.subs[e].splice(n,1),this.subs[e].length||delete this.subs[e]}}}]),e}(),eventEmitter=new EventEmitter;module.exports=eventEmitter;